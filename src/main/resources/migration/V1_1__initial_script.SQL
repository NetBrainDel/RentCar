create table m_cars
(
    id                        bigint generated by default as identity
        constraint pk_m_cars
            primary key,
    model                     varchar(255),
    brand                     varchar(255),
    creation                  date,
    guarantee_expiration_date date,
    price_rent                double precision,
    color                     varchar(255),
    capacity_l                double precision,
    country_of_creation       varchar(255),
    rent                      boolean
);

alter table m_cars
    owner to postgres;

create table m_users
(
    id         bigint generated by default as identity (maxvalue 2147483647)
        constraint pk_m_users
            primary key,
    username   varchar(255),
    surname    varchar(255),
    birth_date date,
    gender     varchar(255),
    passport   varchar(255),
    login      varchar(255),
    car_n      bigint,
    password   varchar(255),
    e_mail     varchar(255),
    phone      varchar(255),
    car_id     bigint
        constraint fk_m_users_on_car
            references m_cars
);

alter table m_users
    owner to postgres;

create table m_accident
(
    id            bigint generated by default as identity
        constraint pk_m_accident
            primary key,
    damages       varchar(255),
    data_accident varchar(255),
    price_damages double precision,
    contract_id   bigint
);

alter table m_accident
    owner to postgres;

create table m_contract
(
    id              bigint generated by default as identity (maxvalue 2147483647)
        constraint pk_m_contract
            primary key,
    name_contract   varchar(255),
    time_rent_start date default '1999-01-08'::date,
    time_rent_end   date,
    car_id          bigint,
    user_id         bigint
);

alter table m_contract
    owner to postgres;

